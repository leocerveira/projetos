"0",""
"0","lapply(c("
"0","  ""tidyverse"","
"0","  ""rbcb"","
"0","  ""ipeadatar"","
"0","  ""cowplot"","
"0","  ""scales"","
"0","  ""zoo"""
"0","),"
"0","function(x)"
"0","  library(x, character.only = T))"
"1","[[1]]
 [1] ""zoo""       ""scales""    ""cowplot""   ""ipeadatar"" ""rbcb""      ""lubridate"" ""forcats""   ""stringr""  
 [9] ""dplyr""     ""purrr""     ""readr""     ""tidyr""     ""tibble""    ""ggplot2""   ""tidyverse"" ""stats""    
[17] ""graphics""  ""grDevices"" ""utils""     ""datasets""  ""methods""   ""base""     

[[2]]
 [1] ""zoo""       ""scales""    ""cowplot""   ""ipeadatar"" ""rbcb""      ""lubridate"" ""forcats""   ""stringr""  
 [9] ""dplyr""     ""purrr""     ""readr""     ""tidyr""     ""tibble""    ""ggplot2""   ""tidyverse"" ""stats""    
[17] ""graphics""  ""grDevices"" ""utils""     ""datasets""  ""methods""   ""base""     

[[3]]
 [1] ""zoo""       ""scales""    ""cowplot""   ""ipeadatar"" ""rbcb""      ""lubridate"" ""forcats""   ""stringr""  
 [9] ""dplyr""     ""purrr""     ""readr""     ""tidyr""     ""tibble""    ""ggplot2""   ""tidyverse"" ""stats""    
[17] ""graphics""  ""grDevices"" ""utils""     ""datasets""  ""methods""   ""base""     

[[4]]
 [1] ""zoo""       ""scales""    ""cowplot""   ""ipeadatar"" ""rbcb""      ""lubridate"" ""forcats""   ""stringr""  
 [9] ""dplyr""     ""purrr""     ""readr""     ""tidyr""     ""tibble""    ""ggplot2""   ""tidyverse"" ""stats""    
[17] ""graphics""  ""grDevices"" ""utils""     ""datasets""  ""methods""   ""base""     

[[5]]
 [1] ""zoo""       ""scales""    ""cowplot""   ""ipeadatar"" ""rbcb""      ""lubridate"" ""forcats""   ""stringr""  
 [9] ""dplyr""     ""purrr""     ""readr""     ""tidyr""     ""tibble""    ""ggplot2""   ""tidyverse"" ""stats""    
[17] ""graphics""  ""grDevices"" ""utils""     ""datasets""  ""methods""   ""base""     

[[6]]
 [1] ""zoo""       ""scales""    ""cowplot""   ""ipeadatar"" ""rbcb""      ""lubridate"" ""forcats""   ""stringr""  
 [9] ""dplyr""     ""purrr""     ""readr""     ""tidyr""     ""tibble""    ""ggplot2""   ""tidyverse"" ""stats""    
[17] ""graphics""  ""grDevices"" ""utils""     ""datasets""  ""methods""   ""base""     

"
"0","### CARREGAMENTO E PROCESSAMENTO DOS DADOS"
"0",""
"0","ipea <- ipeadata(c(""GAC12_INDFBCF12"",  ""GAC12_INDFBCFDESSAZ12"", ""BM366_TJOVER366"", ""SGS12_IBCBRDESSAZ12"", ""PRECOS12_IPCAG12"")) %>%"
"0","  pivot_wider(names_from = code, values_from = value) %>%"
"0","  dplyr::select(-uname, -tcode) %>%"
"0","  rename(FBCF = ""GAC12_INDFBCF12"", FBCF.dessaz = ""GAC12_INDFBCFDESSAZ12"", juros = ""BM366_TJOVER366"", ibc_br = ""SGS12_IBCBRDESSAZ12"", IPCA = ""PRECOS12_IPCAG12"") %>%"
"0","  filter(date >= ""2001-01-01"") %>%"
"0","  mutate(date = as.Date(date))"
"1","Requesting Ipeadata API <http://www.ipeadata.gov.br/>
  |                                                                                                       |                                                                                               |   0%  |                                                                                                       |======================================                                                         |  40%"
"1","  |                                                                                                       |============================================================================                   |  80%"
"1","  |                                                                                                       |===============================================================================================| 100%
"
"0","# Monitor do PIB"
"0","monitor_pib <- read.csv2(""C:/Users/leona/OneDrive/Imagens/Documentos/GitHub/projetos/dados/bases/monitor_pib.csv"")"
"0",""
"0","expectativas <- get_market_expectations("
"0","  ""monthly"", "
"0","  indic = c(""C√¢mbio"", ""IPCA"", ""Taxa de desocupa√ß√£o""), "
"0","  start_date = ""2001-01-01"", "
"0","  `$filter` = ""baseCalculo eq 0"", "
"0","  `$select` = ""Indicador,Data,DataReferencia,Mediana"""
"0",")"
"2","G3;Skipping download - using cached version
g"
"0","# Vari√°veis adicionais para a an√°lise"
"0","variaveis <- c(indicador_custo_credito = 25351,"
"0","               taxa_juros_credito = 20714,"
"0","               selic = 4189,"
"0","               saldo_carteira_credito = 20539,"
"0","               concessoes_de_credito = 20631,"
"0","               cambio_real_efetivo = 11752,"
"0","               resultado_primario_12_meses = 5793,"
"0","               producao_bens_de_capital.dessaz = 28506,"
"0","               utilizacao_da_capacidade_instalada_ind_trans.dessaz = 28561"
"0",")"
"0",""
"0","# Carregar as s√©ries dos bacen"
"0","bacen <- get_series(variaveis, start_date = ""2001-01-01"")"
"2","G3;Skipping download - using cached version
g"
"2","G3;Skipping download - using cached version
g"
"2","G3;Skipping download - using cached version
g"
"2","G3;Skipping download - using cached version
g"
"2","G3;Skipping download - using cached version
g"
"2","G3;Skipping download - using cached version
g"
"2","G3;Skipping download - using cached version
g"
"2","G3;Skipping download - using cached version
g"
"2","G3;Skipping download - using cached version
g"
"0","bacen <- reduce(bacen, full_join, by = ""date"")"
"0",""
"0","### TRATAMENTO"
"0","monitor_pib <- monitor_pib %>%"
"0","  mutate(date = paste0(""01/"", Data),"
"0","         date = as.Date(date, format = ""%d/%b/%y""))"
"0",""
"0","expectativas <- expectativas %>%"
"0","  pivot_wider(names_from = Indicador, values_from = Mediana) %>%"
"0","  rename(ipca = IPCA,"
"0","         taxa_de_desocupacao = `Taxa de desocupa√ß√£o`,"
"0","         date = DataReferencia) %>%"
"0","  mutate(date = as.Date(paste0(""01/"", date), format = ""%d/%m/%Y"")) %>%"
"0","  group_by(date) %>%"
"0","  summarise("
"0","    C√¢mbio = mean(C√¢mbio, na.rm = TRUE),"
"0","    ipca = mean(ipca, na.rm = TRUE),"
"0","    taxa_de_desocupacao = mean(taxa_de_desocupacao, na.rm = TRUE)) %>%"
"0","  arrange(desc(date)"
"0","  )"
"0",""
"0","# Mesclando todos os dados"
"0","dados <- ipea %>% inner_join(bacen) %>% inner_join(monitor_pib) %>% arrange(date)"
"2","[38;5;251mJoining with `by = join_by(date)`[39m
"
"2","[38;5;251mJoining with `by = join_by(date)`[39m
"
"0","dados <- dados %>% filter(date <= ""2024-12-01"")"
"0","### FUN√á√ïES UTILIZADAS"
"0",""
"0","options(scipen = 999)"
"0",""
"0","# Fun√ß√£o para padronizar vari√°veis"
"0","padronizar <- function(x) {"
"0","  (x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE)"
"0","}"
"0",""
"0","# Fun√ß√£o para reindexar vari√°veis com base em uma data espec√≠fica"
"0","reindexar <- function(x, data, data_base) {"
"0","  valor_base <- x[data$date == data_base]"
"0","  "
"0","  # Divide apenas os valores a partir da data inicial"
"0","  (x / valor_base) * 100"
"0","}"
"0",""
"0","# FBCF e PIB"
"0",""
"0","#Gr√°fico 1: FBCF e Capacidade Instalada padronizados"
"0","grafico_fbcf.uci <- ggplot(dados, aes(x = date)) +"
"0","  geom_line(aes(y = padronizar(FBCF.dessaz), color = ""FBCF"")) +"
"0","  geom_line(aes(y = padronizar(utilizacao_da_capacidade_instalada_ind_trans.dessaz), color = ""Utiliza√ß√£o da Capacidade Instalada"")) +"
"0","  scale_color_manual(values = c(""slateblue"", ""saddlebrown"")) +"
"0","  labs(title = ""FBCF e Utiliza√ß√£o da Capacidade Instalada Padronizados"","
"0","       x = ""Data"", y = NULL, color = """") +"
"0","  theme_minimal() +"
"0","  theme(legend.position = ""top"")"
"0",""
"0","#Gr√°fico 2: PIB, Produ√ß√£o de Bens de Capital, C√¢mbio, FBCF"
"0","grafico_fbcf.cambio <- ggplot(dados, aes(x = date)) +"
"0","  geom_line(aes(y = reindexar(PIB_precos_de_mercado.dessaz, dados, ""2002-01-01""), color = ""PIB"")) +"
"0","  geom_line(aes(y = reindexar(producao_bens_de_capital.dessaz, dados, ""2002-01-01""), color = ""Produ√ß√£o Bens de Capital"")) +"
"0","  geom_line(aes(y = reindexar(cambio_real_efetivo, dados, ""2002-01-01""), color = ""C√¢mbio Real"")) +"
"0","  geom_line(aes(y = reindexar(FBCF.dessaz, dados, ""2002-01-01""), color = ""FBCF"")) +"
"0","  scale_color_manual(values = c(""slateblue"", ""saddlebrown"", ""forestgreen"", ""lightcoral"")) +"
"0","  labs(title = ""Como o c√¢mbio afetou a atividade?"","
"0","       x = ""Data"", y = ""2002 = 100"", color = """") +"
"0","  theme_minimal() +"
"0","  theme(legend.position = ""top"")"
"0",""
"0","# Gr√°fico 3: ICC, Selic e FBCF, PIB, Cr√©dito"
"0","grafico_selic <- ggplot(dados %>% filter (date >= ""2010-01-01""), aes(x = date)) +"
"0","  geom_line(aes(y = indicador_custo_credito, color = ""Indicador Custo Cr√©dito"")) +"
"0","  geom_line(aes(y = selic, color = ""Selic"")) +"
"0","  scale_color_manual(values = c(""lightcoral"", ""#008080"")) +"
"0","  labs(x = ""Data"", y = NULL, colour = """", title = ""Como os juros SELIC e o custo do cr√©dito afetam a atividade?"") +"
"0","  theme_minimal() +"
"0","  theme(legend.position = ""top"")"
"0",""
"0","grafico_credito <- ggplot(dados, aes(x = date)) +"
"0","  geom_line(aes(y = reindexar(FBCF, dados, ""2011-03-01""), color = ""FBCF"")) +"
"0","  geom_line(aes(y = reindexar(PIB_precos_de_mercado, dados, ""2011-03-01""), color = ""PIB"")) +"
"0","  geom_line(aes(y = reindexar(concessoes_de_credito, dados, ""2011-03-01""), color = ""Novas Concess√µes de Cr√©dito"")) +"
"0","  scale_color_manual(values = c(""darkgreen"", ""saddlebrown"", ""darkorange"")) +"
"0","  scale_x_date(limits = c(as.Date(""2010-01-01""), max(dados$date))) +"
"0","  labs(x = ""Data"", y = ""2011 = 100"", color = """") +"
"0","  theme_minimal() +"
"0","  theme(legend.position = ""top"")"
"0",""
"0","# Correla√ß√µes:"
"0",""
"0","cat(""FBCF e UCI:"", cor(dados$FBCF.dessaz, dados$producao_bens_de_capital.dessaz, use = ""complete.obs""))"
"1","FBCF e UCI: 0.7728245"
"0","cat(""FBCF e PIB:"", cor(dados$FBCF.dessaz, dados$PIB_precos_de_mercado.dessaz, use = ""complete.obs""))"
"1","FBCF e PIB: 0.8669703"
"0","cat(""FBCF e Bens de Capital:"", cor(dados$FBCF.dessaz, dados$producao_bens_de_capital.dessaz, use = ""complete.obs""))"
"1","FBCF e Bens de Capital: 0.7728245"
"0","cat(""Bens de Capital e C√¢mbio:"", cor(dados$producao_bens_de_capital.dessaz, dados$cambio_real_efetivo, use = ""complete.obs""))"
"1","Bens de Capital e C√¢mbio: -0.6398434"
"0","cat(""Custo de Cr√©dito e Concess√µes de Cr√©dito:"", cor(dados$indicador_custo_credito, dados$concessoes_de_credito, use = ""complete.obs""))"
"1","Custo de Cr√©dito e Concess√µes de Cr√©dito: 0.08847109"
"0","print(grafico_fbcf.uci)"
